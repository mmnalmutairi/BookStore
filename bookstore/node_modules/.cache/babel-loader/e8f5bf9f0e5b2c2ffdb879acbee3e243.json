{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport instance from \"./instance\"; // The file name starts with lowercase \n\nclass ShopStore {\n  // proprty in lowercase\n  constructor() {\n    this.shops = [];\n    this.isLoading = true;\n\n    this.fetchShops = async () => {\n      try {\n        const response = await instance.get(\"/shops\");\n        this.shops = response.data;\n        console.log(response.data);\n      } catch (error) {\n        console.error(\"fetchShops:\", error);\n      }\n    };\n\n    this.createShop = async newShop => {\n      try {\n        const formData = new FormData();\n\n        for (const key in newShop) formData.append(key, newShop[key]);\n\n        const response = await instance.post(\"/shops\", formData);\n        this.shops.push(response.data);\n        console.log(response);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    makeAutoObservable(this);\n  }\n\n}\n\nconst shopStore = new ShopStore();\nshopStore.fetchShops();\nexport default shopStore;","map":{"version":3,"sources":["/Users/engineermaha/Developement/JSFoundations-Git/BookStore/bookstore/src/components/stores/shopStore.js"],"names":["makeAutoObservable","instance","ShopStore","constructor","shops","isLoading","fetchShops","response","get","data","console","log","error","createShop","newShop","formData","FormData","key","append","post","push","shopStore"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,MAAnC;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAIA;;AACA,MAAMC,SAAN,CAAgB;AAEZ;AAIAC,EAAAA,WAAW,GAAG;AAAA,SAFdC,KAEc,GAFN,EAEM;AAAA,SADdC,SACc,GADF,IACE;;AAAA,SAIdC,UAJc,GAID,YAAY;AACrB,UAAI;AACA,cAAMC,QAAQ,GAAG,MAAMN,QAAQ,CAACO,GAAT,CAAa,QAAb,CAAvB;AAEA,aAAKJ,KAAL,GAAcG,QAAD,CAAWE,IAAxB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB;AACH,OALD,CAKE,OAAOG,KAAP,EAAc;AACZF,QAAAA,OAAO,CAACE,KAAR,CAAc,aAAd,EAA6BA,KAA7B;AACH;AAEJ,KAda;;AAAA,SAgBdC,UAhBc,GAgBD,MAAOC,OAAP,IAAmB;AAE5B,UAAI;AACA,cAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;AACA,aAAK,MAAMC,GAAX,IAAkBH,OAAlB,EAA2BC,QAAQ,CAACG,MAAT,CAAgBD,GAAhB,EAAqBH,OAAO,CAACG,GAAD,CAA5B;;AAE3B,cAAMV,QAAQ,GAAG,MAAMN,QAAQ,CAACkB,IAAT,CAAc,QAAd,EAAwBJ,QAAxB,CAAvB;AACA,aAAKX,KAAL,CAAWgB,IAAX,CAAgBb,QAAQ,CAACE,IAAzB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACH,OAPD,CAOE,OAAOK,KAAP,EAAc;AACZF,QAAAA,OAAO,CAACE,KAAR,CAAcA,KAAd;AACH;AACJ,KA5Ba;;AACVZ,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;;AARW;;AAsChB,MAAMqB,SAAS,GAAG,IAAInB,SAAJ,EAAlB;AACAmB,SAAS,CAACf,UAAV;AAEA,eAAee,SAAf","sourcesContent":["import { makeAutoObservable } from 'mobx';\nimport instance from \"./instance\";\n\n\n\n// The file name starts with lowercase \nclass ShopStore {\n\n    // proprty in lowercase\n\n    shops = [];\n    isLoading = true;\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    fetchShops = async () => {\n        try {\n            const response = await instance.get(\"/shops\");\n\n            this.shops = (response).data;\n            console.log(response.data);\n        } catch (error) {\n            console.error(\"fetchShops:\", error)\n        }\n\n    }\n\n    createShop = async (newShop) => {\n\n        try {\n            const formData = new FormData();\n            for (const key in newShop) formData.append(key, newShop[key]);\n\n            const response = await instance.post(\"/shops\", formData);\n            this.shops.push(response.data);\n            console.log(response);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n}\n\nconst shopStore = new ShopStore();\nshopStore.fetchShops();\n\nexport default shopStore;"]},"metadata":{},"sourceType":"module"}