{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport instance from \"./instance\"; // The file name starts with lowercase \n\nclass ShopStore {\n  // proprty in lowercase\n  constructor() {\n    this.shops = [];\n    this.isLoading = true;\n\n    this.fetchShops = async () => {\n      try {\n        const response = await instance.get(\"/shops\");\n        this.shops = response.data;\n        this.isLoading = false;\n      } catch (error) {\n        console.error(\"fetchShops:\", error);\n      }\n    };\n\n    this.createShop = async newShop => {\n      try {\n        const formData = new FormData();\n\n        for (const key in newShop) formData.append(key, newShop[key]);\n\n        const response = await instance.post(\"/shops\", formData);\n        this.shops.push(response.data);\n        console.log(response);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    makeAutoObservable(this);\n  }\n\n}\n\nconst shopStore = new ShopStore();\nshopStore.fetchShops();\nexport default shopStore;","map":{"version":3,"sources":["/Users/engineermaha/Developement/JSFoundations-Git/BookStore/bookstore/src/components/stores/shopStore.js"],"names":["makeAutoObservable","instance","ShopStore","constructor","shops","isLoading","fetchShops","response","get","data","error","console","createShop","newShop","formData","FormData","key","append","post","push","log","shopStore"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,MAAnC;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAIA;;AACA,MAAMC,SAAN,CAAgB;AAEZ;AAKAC,EAAAA,WAAW,GAAG;AAAA,SAHdC,KAGc,GAHN,EAGM;AAAA,SAFdC,SAEc,GAFF,IAEE;;AAAA,SAIdC,UAJc,GAID,YAAY;AACrB,UAAI;AACA,cAAMC,QAAQ,GAAG,MAAMN,QAAQ,CAACO,GAAT,CAAa,QAAb,CAAvB;AACA,aAAKJ,KAAL,GAAaG,QAAQ,CAACE,IAAtB;AACA,aAAKJ,SAAL,GAAiB,KAAjB;AACH,OAJD,CAIE,OAAOK,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACD,KAAR,CAAc,aAAd,EAA6BA,KAA7B;AACH;AAEJ,KAba;;AAAA,SAedE,UAfc,GAeD,MAAOC,OAAP,IAAmB;AAE5B,UAAI;AACA,cAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;AACA,aAAK,MAAMC,GAAX,IAAkBH,OAAlB,EAA2BC,QAAQ,CAACG,MAAT,CAAgBD,GAAhB,EAAqBH,OAAO,CAACG,GAAD,CAA5B;;AAE3B,cAAMT,QAAQ,GAAG,MAAMN,QAAQ,CAACiB,IAAT,CAAc,QAAd,EAAwBJ,QAAxB,CAAvB;AACA,aAAKV,KAAL,CAAWe,IAAX,CAAgBZ,QAAQ,CAACE,IAAzB;AACAE,QAAAA,OAAO,CAACS,GAAR,CAAYb,QAAZ;AACH,OAPD,CAOE,OAAOG,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ,KA3Ba;;AACVV,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;;AATW;;AAsChB,MAAMqB,SAAS,GAAG,IAAInB,SAAJ,EAAlB;AACAmB,SAAS,CAACf,UAAV;AAEA,eAAee,SAAf","sourcesContent":["import { makeAutoObservable } from 'mobx';\nimport instance from \"./instance\";\n\n\n\n// The file name starts with lowercase \nclass ShopStore {\n\n    // proprty in lowercase\n\n    shops = [];\n    isLoading = true;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    fetchShops = async () => {\n        try {\n            const response = await instance.get(\"/shops\");\n            this.shops = response.data;\n            this.isLoading = false;\n        } catch (error) {\n            console.error(\"fetchShops:\", error)\n        }\n\n    }\n\n    createShop = async (newShop) => {\n\n        try {\n            const formData = new FormData();\n            for (const key in newShop) formData.append(key, newShop[key]);\n\n            const response = await instance.post(\"/shops\", formData);\n            this.shops.push(response.data);\n            console.log(response);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n}\n\nconst shopStore = new ShopStore();\nshopStore.fetchShops();\n\nexport default shopStore;"]},"metadata":{},"sourceType":"module"}